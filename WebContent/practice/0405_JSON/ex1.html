<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script src="../../js/jquery-3.6.0.js"></script>
	<script type="text/javascript">
	$(document).ready(function(){
		var obj = {
				name: "홍길동"
				,birth: "1425-12-14"
				,age: "30"
				,address : {nation : "조선"
							,city : "전라도"}
				,hobby: ["무술", "검술", "독서"]
				}		
		});
		//JSON.stringify() : 문자열로 변환(서버로 전송 시)
		//JSON.parse() : JavaScript 객체로 변환
	</script>	
</head>
<body>
	<button type="button">JSON 변환 테스트</button>
	<p>1차변환(obj > str) : <span id="Change1"></span></p>
	<p>2차변환(str > obj) : <span id="Change2"></span></p>
	<p>이름 : <span id="Name"></span></p>
	<p>주소 : <span id="Add"></span></p>
	<p>취미 : <span id="Hobby"></span></p>
	<p>생년월일 : <span id="Year"></span></p>
</body>
	<script type="text/javascript">
	$(document).ready(function(){
		var obj = {
				name: "홍길동"
				,birth: "1425-12-14"
				,age: "30"
				,address : {nation : "조선"
							,city : "전라도"}
				,hobby: ["무술", "검술", "독서"]
				}		
		//JSON.stringify() : 문자열로 변환(서버로 전송 시)
		//JSON.parse() : JavaScript 객체로 변환
		$("button").click(function(){
			var strtmp = JSON.stringify(obj);
			$("#Change1").text(strtmp); //1차변환 obj > str
			
			var objtmp = JSON.parse(strtmp);
			$("#Change2").text(objtmp);//2차변환(str > obj)
			
			//이름  
			$("#Name").text(objtmp.name);
			
			//주소 
			$("#Add").text(objtmp.address.nation + " " + objtmp.address.city);
			
			//주소는 객체, 취미는 배열 
			//취미
			//$("#Hobby").text(objtmp.hobby); -->이렇게만 쓸 수 있는데 for문을 돌리는 이유는
			// 									 나중에 / _ 등 다양하게 표현을 하기 위해
			var strHobby = "";
			for (var i = 0; i < objtmp.hobby.length; i++) {
				strHobby += objtmp.hobby[i] + "/ ";
			}
			//무술, 검술, 독서, --> 독서 뒤에 오는, 를 제거하기 위해 substr 
			strHobby = strHobby.slice(0, strHobby.length-2); 
			$("#Hobby").text(strHobby);
			
			//생년월일
			var date = new Date(objtmp.birth);
			$("#Year").text(date);
		});
		});
	</script>
</html>